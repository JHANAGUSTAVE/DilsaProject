{% load i18n static %}
<section class="page-section bg-light" id="produits">
	<div class="container">
		<div class="text-center">
			<h2 class="section-heading text-uppercase">{% trans 'Products' %}</h2>
			<h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>
		</div>
		<div class="row">
			{% for product in all_products %}
			<div class="col-lg-3 col-sm-6 mb-4">
				<!-- produits item 1-->
				<div class="portfolio-item text-center">
					<a class="portfolio-link" data-toggle="modal" href="#productModal{{product.id}}">
						<img class="img-fluid" title="{{product.name}}" src="{% if product.photo %}{{product.photo.url}}{% else %}{% static 'img/portfolio/1.jpg' %}{% endif %}" alt="{{product.name}}" />
					</a>
					<div class="portfolio-caption mt-2">
						<div class="portfolio-caption-heading font-weight-bold">{{product.name}}</div>
						<div class="portfolio-caption-subheading text-muted">{{product.description}}</div>
					</div>
				</div>


				<div class="modal fade" id="productModal{{product.id}}" tabindex="-1" role="dialog" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="close-modal" data-dismiss="modal"><img src="{% static '/img/close-icon.svg' %}" alt="Close modal" /></div>
							<div class="container">
								<div class="row justify-content-center">
									<div class="col-lg-8">
										<div class="modal-body">
											<!-- Project details-->
											<h2 class="text-uppercase">{{product.name}}</h2>
											<p class="item-intro text-muted">{{product.subtitle}}</p>
												<img class="img-fluid d-block mx-auto" src="@/assets/img/portfolio/1.jpg" alt="..." />
												{{product.description}}
											</p>
											<ul class="list-inline">
												<li>
													<strong>Categories:</strong>
													{% for cat in product.categories.all %}{{cat.name}}{% if not forloop.last %}, {% endif %}{% endfor %}
												</li>
											</ul>
											<button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
												<i class="fas fa-times me-1"></i>
												{% trans 'Close' %}
											</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
</section>